<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Layout_Login.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/Login.css') }}">
    <title>Login</title>
</head>
<body>
    <div class="topic">
        <div class="name">
            <h1>CalsFood</h1>
            <h4>เว็บไซต์คำนวนแคลลอรี่อาหารตามสั่งไทย</h4>
        </div>
        <img src="{{ url_for('static', filename='Image/BG-topic.webp') }}">
    </div>



    <div class="menu-bar">
        <div class="logo">
            <img src="{{ url_for('static', filename='Image/logo.webp') }}">
            <h2>CalsFood</h2>
        </div>

        {%if user.is_authenticated %}
        <a class="button" id="Home_Login" href="/">Home</a> 
        <a class="button" id="Design" href="/design">Design</a>
        <a class="button" id="AI" href="/ai-test">AI</a>
        <a class="button" id="Inventory" href="/inventory">Inventory</a>
        {% else %}
        {# ถ้าuser ยังไม่ได้มีการ login เมื่อกดหน้าอื่น ให้มันไปแสดงที่หน้า Signin หรือ Login #}
        <a class="button" id="Home_Logout" href="/">Home</a>
        <a class="button" id="Design" href="/design">Design</a>
        <a class="button" id="AI" href="/ai-test">AI</a>
        <a class="button" id="Inventory" href="/inventory">Inventory</a>
        {% endif %}
    </div>

    <div class = "background">
        <img src="https://images.pexels.com/photos/349609/pexels-photo-349609.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
    </div>


    
    <div class="login">
        <div class="login-box">
            <div class="design">
                <div class="box">
                    <div class="box1"></div>
                    <div class="box2"></div>
                    <div class="radius1"></div>
                    <div class="radius2"></div>
                </div>
                <div class="box">
                    <p>Sign in</p>
                </div>
                <div class="box">
                    <div class="box3"></div>
                    <div class="box4"></div>
                    <div class="radius3"></div>
                    <div class="radius4"></div>
                </div>
            </div>

            <form method="POST" action="{{ url_for('auth.login') }}">
                <div class="username">
                    <label>Email</label>
                    <div class="input-box">
                        <input 
                            type="email" 
                            class="form-control {% if email_error %}error{% endif %}"
                            name="email" 
                            id="email" 
                            placeholder="Email" 
                            oninvalid="this.setCustomValidity('กรุณาใส่อีเมลให้ถูกต้อง เช่น example@email.com')"
                            oninput="this.setCustomValidity('')"
                            required>
                    </div>
                    <div class="error-message {% if email_error %}show{% endif %}" id="email-error">{{ email_error }}</div>
                </div>
                <div class="password">
                    <label>Password</label>
                    <div class="input-box">
                        <input 
                            type="password" 
                            class="form-control {% if password_error %}error{% endif %}"
                            name="password" 
                            id="password" 
                            placeholder="Password" 
                            required>
                        <img src="https://cdn-icons-png.flaticon.com/512/2767/2767146.png" id="togglePassword" class="toggle-password" alt="Show Password">
                    </div>
                    <div class="error-message {% if password_error %}show{% endif %}" id="password-error">{{ password_error }}</div>
                </div>
                <div class="remember-me">
                    <input 
                        type="checkbox" 
                        class="form-check-input"
                        id="remember" 
                        name="remember">
                    <label class="form-check-label" for="remember">Remember me</label>
                </div>
                <button class="sign-in" type="submit">Sign in</button>    
                <a href="{{ url_for('auth.signup') }}" class="create-account-link">Don't have an account yet?</a>
            </form>      
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/Login.js') }}"></script>
</body>
</html>